<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>{%block Title%}{%endblock%}</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Epilogue' rel='stylesheet'>
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    {%block style%}
    {%endblock%}

    <style>
        html,
        body {
            margin: 0px;
            padding: 0px;
            font-family: 'Epilogue';
            background-color: #8EE4AF;
        }

        .nav {
            list-style-type: none;
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #5CDB95;
        }

        .nav li {
            float: right;
        }

        .nav li a {
            transition: background-color .5s;
            display: block;
            color: white;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }

        .nav li a:hover {
            background-color: #379683;
        }

        .nav li a.active {
            background-color: #379683;
        }
    </style>
</head>

<body>

    <ul class="nav">
        <li><a class="active" href="{%url 'CryptoIndex'%}">Cryptos</a></li>
        <li><a href="#">Home</a></li>
    </ul>

    {%block content%}
    {%endblock%}

    <script>
        function commas(num) {
            num = parseFloat(num).toFixed(2);
            num = num.toString();
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        commaobj =   document.querySelectorAll(".fixcomma");
        commaobj.forEach(ele =>{
            ele.innerHTML = commas(ele.innerHTML);
        })

        function commasint(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        const query = document.querySelectorAll(".animate");
        const speed = 100;
        query.forEach(element => {
            const updateCount = () => {
                target = +element.getAttribute("data-target");
                count = +element.innerText;

                inc = target*0.01;

                if (count < target) {
                    element.innerText = count + inc;
                    setTimeout(updateCount, 1);
                }
                else {
                    element.innerText = "$"+commas(target);
                }
            }

            updateCount();
        });
        const queryw = document.querySelectorAll(".animatew");
        queryw.forEach(element => {
            const updateCount = () => {
                target = +element.getAttribute("data-target");
                count = +element.innerText;

                inc = target*0.01;

                if (count < target) {
                    element.innerText = count + inc;
                    setTimeout(updateCount, 1);
                }
                else {
                    element.innerText = commasint(target);
                }
            }

            updateCount();
        });
        

        let a = document.querySelectorAll(".filterint");
        a.forEach(element => {
            element.innerHTML = commas(element.innerHTML);
        });
    </script>
</body>

</html>